<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>New Playlist</title>
    <link rel="shortcut icon" href="/img/logo.png">
    <link rel="stylesheet" href="static.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  </head>
  <body>
    <nav class="navbar navbar-expand-lg fixed-top">
      <a class="navbar-brand" href="/homepage">EarStorm <img src="img/logo.png" width="50" height="50" alt="logo"></a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
			      <a class="nav-link link"  href="/account">{{username}}</a>
          </li>
		      <li class="nav-item">
            <a class="nav-link link" href="/login">{{login}}</a>
          </li>
        </ul>
        <form action="searchplaylist" class="form-inline my-2 my-lg-0" method="get">
          <input class="form-control mr-sm-2" type="search" name="search_words" placeholder="Search a playlist" aria-label="Search">
          <button class="btn btn-outline-light my-2 my-sm-0" type="submit">Search</button>
        </form>
        <button class="btn btn-outline-light my-2" onclick="window.open('/advancedSearch')" title="Go to advanced search" href="/advancedSearch">+</button>
      </div>
    </nav>
    <div class="container" id="createPlaylist">
      <h4>Create a playlist:</h4>
      <form action="createPlaylist" method="post">
        <label for="playlist_name">Playlist name:</label><br>
        <textarea class="one_line_text_area" name="playlist_name" required>{{title}}</textarea><br><br>

        <label for="playlist_songs">Songs:<br><sm>Provide here URLs to songs. Please use commas to separate the different links. If you provide links from Youtube, you will be able to play them directly from the website. You can add links from other platforms, but you won't be able to play them from EarStorm.</sm></label><br>
        <textarea class="long_text_area" name="playlist_songs" required>{{songs}}</textarea><br><br>

        <label for="playlist_genres">Genres:</label>
        <fieldset>
          <input type="checkbox" name="playlist_genres" value="alternative" {{alternative}}>
          <label for="alternative">Alternative </label>

          <input type="checkbox" name="playlist_genres" value="country" {{country}}>
          <label for="country">Country </label>

          <input type="checkbox" name="playlist_genres" value="folk" {{folk}}>
          <label for="folk">Folk </label>

          <input type="checkbox" name="playlist_genres" value="house" {{house}}>
          <label for="house">House </label>

          <input type="checkbox" name="playlist_genres" value="latino" {{latino}}>
          <label for="latino">Latino </label>

          <input type="checkbox" name="playlist_genres" value="metal" {{metal}}>
          <label for="metal">Metal </label>

          <input type="checkbox" name="playlist_genres" value="pop" {{pop}}>
          <label for="pop">Pop </label>

          <input type="checkbox" name="playlist_genres" value="punk" {{punk}}>
          <label for="punk">Punk </label>

          <input type="checkbox" name="playlist_genres" value="rock" {{rock}}>
          <label for="rock">Rock </label>

          <input type="checkbox" name="playlist_genres" value="techno" {{techno}}>
          <label for="techno">Techno </label>

          <input type="checkbox" name="playlist_genres" value="other" {{other}}>
          <label for="techno">Other </label>
        </fieldset><br>
        <label for="playlist_add_genre">Additional genres:<br>
          <sm>Please use commas to separate genres if adding multiple.</sm>
        </label><br>
        <textarea class="long_text_area" name="playlist_add_genre">{{additional_genres}}</textarea><br><br>
        <label for="playlist_descr">Description: <sm>(optional)</sm></label><br>
        <textarea class="long_text_area" name="playlist_descr">{{description}}</textarea><br><br>
        <label for="playlist_image">Image: <sm>(optional)</sm></label>
        <div class="custom-file">
          <input type="file" class="custom-file-input" id="customFile" accept="image/*">
          <label class="custom-file-label" for="customFile">Select image</label>
        </div>
        <br><br><br>
        <div class="col text-center"><button type="submit" class="btn btn-primary" name="saveplaylist">Save playlist</button></div>
      </form>
    </div>
  </body>
  <!--  DOES NOT SEEM TO WORK ~ need to find solution for filename to show up
  <script>
  // Add the following code if you want the name of the file to appear on select
    $(".custom-file-input").on("change", function() {
      var fileName = $(this).val().split("\\").pop();
      $(this).siblings(".custom-file-label").addClass("selected").html(fileName);
    });
  </script>
  -->
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</html>
